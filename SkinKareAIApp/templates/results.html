<!-- <!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link
      rel="stylesheet"
      href="{{ url_for('static', filename='css/style.css') }}"
    />
    <title>Analysis Results</title>
  </head>
  <body>
    <header>
      <h1>Analysis Results</h1>
    </header>
    <div class="container">
      <div id="result-container"></div>
      <a href="/">Back to Upload</a>
    </div>
    <script src="{{ url_for('static', filename='js/script.js') }}"></script>
  </body>
</html> -->

<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>SkinKare - Results</title>
    <script src="https://cdn.tailwindcss.com"></script>
  </head>
  <body class="bg-gray-100 h-screen flex items-center justify-center">
    <div class="bg-white p-8 rounded-lg shadow-lg w-3/4 max-w-2xl text-center">
      <h1 class="text-3xl font-bold mb-4">Analysis Result</h1>
      <div id="result-container"></div>
      <a href="/">
        <button class="mt-4 bg-blue-900 text-white py-2 px-4 rounded">Back to Home</button>
      </a>
    </div>

    <script>
if (window.location.pathname.includes("results")) { // Check page URL
    const resultContainer = document.getElementById("result-container");
    console.log("Result container:", resultContainer); // Debugging

    const analysisResult = JSON.parse(localStorage.getItem("analysisResult"));
    console.log("Analysis Result from localStorage:", analysisResult); // Debugging

    if (analysisResult) {
        const { condition, analysis, imageBase64 } = analysisResult;

        // const resultHTML = `
        //     <h2 >Condition: ${condition}</h2>
        //     <p>Analysis: ${analysis}</p>
        //     <img src="${imageBase64}" alt="Analyzed Image">
        // `;

        const resultHTML = `
              <div class="grid grid-cols-1 md:grid-cols-2 gap-8 items-start justify-center flex-grow">
                <!-- Left Section: Diagnosis Image and Summary -->
                <div class="flex flex-col items-start">
                    <div class="w-full h-48 bg-gray-200 rounded-lg mb-4 flex items-center justify-center">
                        <!-- Placeholder for the image -->
                        <img src="${imageBase64}" alt="Analyzed Image" class="object-contain h-full w-full rounded-lg">
                        
                    </div>
                    <!-- Diagnosis summary -->
                    <div class="w-full bg-gray-100 p-4 rounded-lg shadow-sm">
                        <h2 class="text-xl font-semibold text-gray-800">Diagnosis</h2>
                        <p class="text-gray-600 mt-2">Analysis: ${analysis}</p>
                    </div>
                </div>

        
        `;




        resultContainer.innerHTML = resultHTML;
    } else {
        resultContainer.innerHTML = `<p>No analysis result found.</p>`;
    }
} 
   </script>
  </body>
</html>
